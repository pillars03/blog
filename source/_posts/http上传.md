---
title: http上传
date: 2019-03-20 21:06:59
tags:
---
读取 http body 部分
根据 boundary 分析出分隔符特征（这个串是唯一的，不会与body内其他数据冲突）
根据实际分隔符分段获取 body 内容
遍历分段内容
根据 Content-Disposition 特征获取其中值
根据值中 filename 或 name 区分是否是包含二进制流还是表单数据的 k-v
根据 filename 获取原始文件名
从连续 两个 newline 字符串为起始至当前分段完毕，按照二进制流读取上传文件流信息。
完成后即有——
原始文件名信息
原始文件类型信息
全部文件流信息
然后该干嘛干嘛，比如写文件到磁盘等。
最后建议搜索关键字 rfc1867 ……

作者：貘吃馍香